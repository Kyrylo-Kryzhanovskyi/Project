# Telegram Content Analyzer

## Опис
**Telegram Content Analyzer** — це інструмент для автоматизованого збору повідомлень із Telegram-каналів, їхньої обробки, класифікації за категоріями шкідливого контенту та формування аналітичних звітів.  
Програма побудована на основі асинхронної взаємодії з Telegram API через **Telethon** та використовує **zero-shot трансформерну модель** для класифікації повідомлень без попереднього навчання.

## Основні можливості
- Підключення до Telegram через API та авторизація користувача.
- Збір повідомлень з вибраних каналів.
- Попередня обробка текстів (очищення від HTML-тегів, посилань, символів).
- Класифікація повідомлень за допомогою багатомовної моделі **MoritzLaurer/mDeBERTa-v3-base-mnli-xnli**.
- Кешування результатів класифікації для пришвидшення подальшої роботи.
- Генерація звітів у вигляді JSON-файлів і графіків.

## Використані технології
- **Python 3.12.9**
- **Telethon** – асинхронний клієнт для Telegram API.
- **Transformers** (Hugging Face) — робота з трансформерною моделлю.
- **Matplotlib** — побудова графіків.
- **tqdm** — відображення прогресу обробки даних.
- **asyncio** — асинхронна взаємодія із сервером Telegram.
- **json, os, re** — обробка даних і файлових структур.

## Встановлення
### 1. Створення віртуального середовища (рекомендовано)
Щоб уникнути конфліктів між бібліотеками, у каталозі з проєктом рекомендується створити окреме віртуальне середовище:

```bash
python -m venv venv
```
Активація середовища:
- На Windows:
  ```bash
  venv\Scripts\activate
  ```
- На Linux/MacOS:
  ```bash
  source venv/bin/activate
  ```

### 2. Встановлення залежностей
#### Примітки щодо встановлення залежностей

> **Увага!** Для коректної роботи програми перед встановленням залежностей рекомендується оновити менеджер пакетів `pip` до останньої версії:

```bash
python -m pip install --upgrade pip
```

Після активації середовища встановіть необхідні бібліотеки:

```bash
pip install -r requirements.txt
```

##### Встановлення PyTorch

Бібліотека `torch` (PyTorch) не встановлюється автоматично через `requirements.txt` через особливості збірки для різних систем (CPU або GPU, різні версії CUDA).

Тому її потрібно встановити вручну:

- Для процесорної (CPU) версії:

```bash
pip install torch torchvision torchaudio
```

- Для роботи з відеокартою Nvidia (GPU, CUDA):

Оберіть команду відповідно до вашої системи на офіційному сайті [https://pytorch.org/get-started/locally/](https://pytorch.org/get-started/locally/).

Наприклад, для CUDA 11.8:

```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```
Якщо ви не знаєте, чи підтримує ваша відеокарта CUDA, оберіть перший варіант (CPU).

### 3. Налаштування API Telegram
Створіть файл `config.py` у корені проєкту зі своїми обліковими даними:

```python
API_ID = 'YOUR_API_ID'
API_HASH = 'YOUR_API_HASH'
SESSION_DIR = 'sessions'
```

Щоб отримати `API_ID` та `API_HASH`, необхідно зареєструвати додаток на [офіційному порталі Telegram](https://my.telegram.org).

---



## Використання

Запустіть основний скрипт:
```bash
python main.py
```

Після запуску програма запропонує пройти авторизацію через Telegram (ввести номер телефону та код підтвердження). Після успішного підключення можна вибрати потрібні канали для аналізу.

Після завершення аналізу результати будуть збережені:
- У папці `/data/` — зібрані повідомлення.
- У папці `/reports/` — сформовані звіти з класифікацією та графіками.

## Структура проєкту

```
/project-root/
├── main.py              # Основний файл запуску
├── config.py            # Конфігурація з API ID та Hash
├── telegram_module.py   # Взаємодія з Telegram
├── preprocessing.py     # Очищення текстів
├── classifier.py        # Класифікація повідомлень
├── report_generator.py  # Формування звітів і графіків
├── utils.py             # Допоміжні функції
├── /model/              # Збережена модель
├── /data/               # Тимчасові файли
├── /reports/            # Готові звіти
└── requirements.txt     # Список залежностей
```

Папки `/data/` та `/reports/` створюються автоматично під час роботи програми.

## Вимоги
- Python 3.12.9 або новіший. Рекомендовано 3.12.9
- Активний обліковий запис Telegram.
